<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Android Fragment&amp;(Web View, Canvas, Imgae Edit)" /><meta name="author" content="Yeonseo Nam" /><meta property="og:locale" content="en_US" /><meta name="description" content="Development Env. post date : 2019. 11. 11 OS : macOS Catalina 64bit Java version : JDK 1.8.0 J_223 JRE8 Android : Pie(9.0) Eclipse : 2019-06 (4.12.0)" /><meta property="og:description" content="Development Env. post date : 2019. 11. 11 OS : macOS Catalina 64bit Java version : JDK 1.8.0 J_223 JRE8 Android : Pie(9.0) Eclipse : 2019-06 (4.12.0)" /><link rel="canonical" href="https://yeonseo.github.io/posts/android-fragment-post-copy/" /><meta property="og:url" content="https://yeonseo.github.io/posts/android-fragment-post-copy/" /><meta property="og:site_name" content="우당탕탕 벌크업만 성공한 개발자" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-11-11T19:34:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Android Fragment&amp;(Web View, Canvas, Imgae Edit)" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yeonseo Nam"},"dateModified":"2022-03-28T09:07:56+09:00","datePublished":"2019-11-11T19:34:00+09:00","description":"Development Env. post date : 2019. 11. 11 OS : macOS Catalina 64bit Java version : JDK 1.8.0 J_223 JRE8 Android : Pie(9.0) Eclipse : 2019-06 (4.12.0)","headline":"Android Fragment&amp;(Web View, Canvas, Imgae Edit)","mainEntityOfPage":{"@type":"WebPage","@id":"https://yeonseo.github.io/posts/android-fragment-post-copy/"},"url":"https://yeonseo.github.io/posts/android-fragment-post-copy/"}</script><title>Android Fragment&(Web View, Canvas, Imgae Edit) | 우당탕탕 벌크업만 성공한 개발자</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="우당탕탕 벌크업만 성공한 개발자"><meta name="application-name" content="우당탕탕 벌크업만 성공한 개발자"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/profile.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">우당탕탕 벌크업만 성공한 개발자</a></div><div class="site-subtitle font-italic">근성보다 근질이 좋아지는 5년차 개발자</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT ME 🤗</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/yeonseo" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://www.instagram.com/bboby_ggggg" aria-label="instagram" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-instagram"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['yeonseo9105','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Android Fragment&(Web View, Canvas, Imgae Edit)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Android Fragment&(Web View, Canvas, Imgae Edit)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Yeonseo Nam </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Nov 11, 2019, 7:34 PM +0900" prep="on" > Nov 11, 2019 <i class="unloaded">2019-11-11T19:34:00+09:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Mon, Mar 28, 2022, 9:07 AM +0900" prefix="Updated " > Mar 28, 2022 <i class="unloaded">2022-03-28T09:07:56+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4263 words">23 min</span></div></div><div class="post-content"><ul><li>Development Env.<li>post date : 2019. 11. 11<li>OS : macOS Catalina 64bit<li>Java version : JDK 1.8.0 J_223 JRE8<li>Android : Pie(9.0)<li>Eclipse : 2019-06 (4.12.0)</ul><h1 id="fragment-view">Fragment View</h1><p>Fragment View는 액티비티를 통해 구현한 것과 비슷하게 각 화면에서 동작하도록 설계할 수 있습니다. 하지만 액티비티와 다른 점은 부분화면을 독립적으로 모듈화 할 수 있다는 점이고, 이 부분이 Fragment View가 가지는 장점입니다.</p><p>Fragment View를 사용하면 여러명이 각각의 화면을 설계하여 합치기 좋습니다. 하나의 프로그램을 만들기 위해서 팀원들이 각각의 맡은 메뉴를 구현하고, 이후에 합치는 방식으로 개발을 합니다. 이때 팀장이 각각의 화면을 합쳐 모듈화 된 화면을 하나의 프로그램으로 완성합니다.</p><p>특히 시스템이 직접 관리하지 않기 때문에 가볍다는 이야기를 들었는데, 나중에 기회가 된다면 같은 기능을 액티비티와 Fragment View를 구현하여 비교하는 포스트를 써보겠습니다.</p><p>Fragment View View를 만드는 방법은 다른 블로그에서도 많이 다룬 내용이므로 생략하고, 배우면서 주의해야 했던 점들과 간단한 과제를 하면서 생긴 이슈에 대해서 다뤄보도록 하겠습니다. 여기에 사용된 코드는 GitHub에 올려두었으므로 자유롭게 참고하시면 됩니다.</p><h2 id="fragment-view-주의할-점-mainactivityjava">Fragment View 주의할 점 (MainActivity.java)</h2><h3 id="1--fragment-상속">1. Fragment 상속</h3><ul><li>Mac 사용 시 : import androidx.fragment.app.Fragment;<li>Windows 사용 시 : import android.support.v4.app.Fragment;</ul><p>상속 받을 때, 위의 속성으로 받아야 합니다. 다른 Fragment를 상속 받으면 오류도 뜨지 않으면서 실행이 되지 않습니다. 상속할 때 주의해서 작성합니다.</p><h3 id="2-xml-파일은--framelayout으로-작성">2. xml 파일은 FrameLayout으로 작성</h3><p>다른 레이아웃을 사용해 보지는 않았지만, Fragment View에 대한 예제 및 과제를 할 때 모두 FrameLayout으로 뷰를 작성하였습니다. Fragment View를 사용할 시, FrameLayout를 컨테이너로 많이 사용되는데, FrameLayout이 가진 특성때문이라고 생각합니다.</p><h3 id="3-각각의-fragment를-이벤트-발생-시-연결">3. 각각의 Fragment를 이벤트 발생 시, 연결</h3><p>버튼을 클릭하는 이벤트 발생 시에 각각의 Fragment를 가진 액티비티를 불러오도록 코드를 작성하였습니다. 이때 commit(); 이라는 함수를 호출하여 작업을 완료하였습니다.</p><h3 id="mainactivityjava">MainActivity.java</h3><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
</pre><td class="rouge-code"><pre>
<span class="kn">package</span> <span class="nn">com.example.a9fregmentviewtest</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.fragment.app.Fragment</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.fragment.app.FragmentActivity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.fragment.app.FragmentTransaction</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.Button</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.FrameLayout</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="nc">AppCompatActivity</span> <span class="kd">implements</span> <span class="nc">View</span><span class="o">.</span><span class="na">OnClickListener</span> <span class="o">{</span>
    <span class="nc">FrameLayout</span> <span class="n">frameLayout</span><span class="o">;</span>
    <span class="c1">//합칠 때 팀장이 하는 것</span>
    <span class="nc">Button</span> <span class="n">btnMenu1</span><span class="o">,</span> <span class="n">btnMenu2</span><span class="o">,</span> <span class="n">btnMenu3</span><span class="o">,</span> <span class="n">btnMenu4</span><span class="o">;</span>


    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>

        <span class="n">frameLayout</span> <span class="o">=</span> <span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">frameLayout</span><span class="o">);</span>
        <span class="n">btnMenu1</span> <span class="o">=</span> <span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">btnMenu1</span><span class="o">);</span>
        <span class="n">btnMenu2</span> <span class="o">=</span> <span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">btnMenu2</span><span class="o">);</span>
        <span class="n">btnMenu3</span> <span class="o">=</span> <span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">btnMenu3</span><span class="o">);</span>
        <span class="n">btnMenu4</span> <span class="o">=</span> <span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">btnMenu4</span><span class="o">);</span>

        <span class="n">btnMenu1</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">btnMenu2</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">btnMenu3</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">btnMenu4</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

        <span class="n">btnMenu1</span><span class="o">.</span><span class="na">callOnClick</span><span class="o">();</span> <span class="c1">//버튼을 부르는 함수</span>
<span class="c1">//        이렇게 해야하지만!!</span>
<span class="c1">//        FragmentTransaction ft =</span>
<span class="c1">//                getSupportFragmentManager().beginTransaction();</span>
<span class="c1">//        Fragment fragmentActivity = null;</span>
<span class="c1">//        fragmentActivity = new Fragment1Activity();</span>
<span class="c1">//        ft.replace(R.id.frameLayout, fragmentActivity);</span>
<span class="c1">//        ft.commit();</span>

    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="nc">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">FragmentTransaction</span> <span class="n">ft</span> <span class="o">=</span>
                <span class="n">getSupportFragmentManager</span><span class="o">().</span><span class="na">beginTransaction</span><span class="o">();</span>
        <span class="nc">Fragment</span> <span class="n">fragmentActivity</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">v</span><span class="o">.</span><span class="na">getId</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">case</span> <span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">btnMenu1</span><span class="o">:</span>
                <span class="n">fragmentActivity</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Fragment1Activity</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">btnMenu2</span><span class="o">:</span>
                <span class="n">fragmentActivity</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Fragment2Activity</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">btnMenu3</span><span class="o">:</span>
                <span class="n">fragmentActivity</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Fragment3Activity</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">btnMenu4</span><span class="o">:</span>
                <span class="n">fragmentActivity</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Fragment4Activity</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">ft</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">frameLayout</span><span class="o">,</span> <span class="n">fragmentActivity</span><span class="o">);</span>
        <span class="n">ft</span><span class="o">.</span><span class="na">commit</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="fragment-view-주의할-점-fragmentactivityjava">Fragment View 주의할 점 (FragmentActivity.java)</h2><h3 id="1--생성자-만들어-주기">1. 생성자 만들어 주기</h3><p>밑의 코드를 보면 아무 내용을 적지 않고 생성자를 만들어 주었습니다. 생성자를 만들지 않아도 에러가 나는 것은 아니지만, 위의 MainActivity.java에서 fragmentActivity 를 구현하기 위해 Fragment1Activity()를 객체 생성에 사용해서 생성자를 만들어 주었습니다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre> <span class="err">…</span>
<span class="n">getSupportFragmentManager</span><span class="o">().</span><span class="na">beginTransaction</span><span class="o">();</span>
        <span class="nc">Fragment</span> <span class="n">fragmentActivity</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">v</span><span class="o">.</span><span class="na">getId</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">case</span> <span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">btnMenu1</span><span class="o">:</span>
                <span class="n">fragmentActivity</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Fragment1Activity</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
 <span class="err">…</span>
</pre></table></code></div></div><h3 id="2-public-view-oncreateview-return-view">2. public View onCreateView(…) (return view!)</h3><p>액티비티에서 onCreate()가 return값이 void였던 것과 비교하면 onCreateView() 는 return값이 view인 것을 확인할 수 있습니다. 개인적으로 Fragment의 독립적인 면이 많이 보였다고 생각합니다. 돌려줄 필요가 없이 스스로 구현했던 액티비티와 달리 Fragment는 독립적으로 구현되기 때문에 자신의 view 정보를 넘겨주어야 합니다. return된 view를 받아 replace(), commit()을 통해 구현합니다. 이 부분이 눈으로 보이는 차이라고 생각합니다. 리턴되는 view는 여러가지 방법으로 서술할 수 있었습니다. 때문에 잘 이해해야 Fragment를 잘 활용할 수 있습니다. Fragment도 생명주기를 가지고 있기 때문에 또 복잡합니다만, 제가 이해한 부분까지만 정리해 보겠습니다. 찾아본 바로는 여러가지 구현방법이 있는데, 제가 사용한 3가지에 대해서 좀 더 정리해보겠습니다.</p><h2 id="web-view">Web View</h2><p>웹 뷰에서는 사실 특별히 return에 신경쓰지 않았습니다. 웹 뷰라는 것 자체가 기능을 다 하고 있으므로 레이아웃에 대한 정보를 담고 있는 view를 그대로 돌려주었습니다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">view</span> <span class="o">=</span> <span class="n">inflater</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">fragment1</span><span class="o">,</span> <span class="n">container</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
</pre></table></code></div></div><h3 id="fragment1activity-java">Fragment1Activity. Java</h3><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.example.a9report_fragment_web_file_</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.LayoutInflater</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.ViewGroup</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.webkit.WebSettings</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.webkit.WebView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.webkit.WebViewClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.Button</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.EditText</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.Toast</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">androidx.annotation.NonNull</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.annotation.Nullable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.fragment.app.Fragment</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Fragment1Activity</span> <span class="kd">extends</span> <span class="nc">Fragment</span><span class="o">{</span>
    <span class="nc">EditText</span> <span class="n">frag1EdtText</span><span class="o">;</span>
    <span class="nc">Button</span> <span class="n">frag1BtnGo</span><span class="o">,</span> <span class="n">frag1BtnBack</span><span class="o">;</span>
    <span class="nc">WebView</span> <span class="n">frag1WebView</span><span class="o">;</span>

    <span class="nc">View</span> <span class="n">view</span><span class="o">;</span>

    <span class="c1">//Fragment import할 시 import androidx.fragment.app.Fragment;로 할 것. 조심!</span>
    <span class="kd">public</span> <span class="nf">Fragment1Activity</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="nd">@Nullable</span>
    <span class="nd">@Override</span>
    <span class="c1">//setContentView와 같다.</span>
    <span class="kd">public</span> <span class="nc">View</span> <span class="nf">onCreateView</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">LayoutInflater</span> <span class="n">inflater</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="nc">ViewGroup</span> <span class="n">container</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">view</span> <span class="o">=</span> <span class="n">inflater</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">fragment1</span><span class="o">,</span> <span class="n">container</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
        <span class="n">frag1EdtText</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">frag1EdtText</span><span class="o">);</span>
        <span class="n">frag1BtnGo</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">frag1BtnGo</span><span class="o">);</span>
        <span class="n">frag1BtnBack</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">frag1BtnBack</span><span class="o">);</span>
        <span class="n">frag1WebView</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">frag1WebView</span><span class="o">);</span>

        <span class="c1">//브러우저를 가지고 옴</span>
        <span class="n">frag1WebView</span><span class="o">.</span><span class="na">setWebViewClient</span><span class="o">(</span><span class="k">new</span> <span class="nc">CookWebViewClient</span><span class="o">());</span>

        <span class="c1">//웹 셋팅을 함</span>
        <span class="kd">final</span> <span class="nc">WebSettings</span> <span class="n">webSet</span> <span class="o">=</span> <span class="n">frag1WebView</span><span class="o">.</span><span class="na">getSettings</span><span class="o">();</span>
        <span class="c1">//크고 작게하는 기능을 줌</span>
        <span class="n">webSet</span><span class="o">.</span><span class="na">setBuiltInZoomControls</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">webSet</span><span class="o">.</span><span class="na">setJavaScriptEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> <span class="c1">// 웹페이지 자바스클비트 허용 여부</span>
        <span class="n">webSet</span><span class="o">.</span><span class="na">setSupportMultipleWindows</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span> <span class="c1">// 새창 띄우기 허용 여부</span>
        <span class="n">webSet</span><span class="o">.</span><span class="na">setJavaScriptCanOpenWindowsAutomatically</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span> <span class="c1">// 자바스크립트 새창 띄우기(멀티뷰) 허용 여부</span>
        <span class="n">webSet</span><span class="o">.</span><span class="na">setLoadWithOverviewMode</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> <span class="c1">// 메타태그 허용 여부</span>
        <span class="n">webSet</span><span class="o">.</span><span class="na">setUseWideViewPort</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> <span class="c1">// 화면 사이즈 맞추기 허용 여부</span>
        <span class="n">webSet</span><span class="o">.</span><span class="na">setSupportZoom</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span> <span class="c1">// 화면 줌 허용 여부</span>
        <span class="n">webSet</span><span class="o">.</span><span class="na">setBuiltInZoomControls</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span> <span class="c1">// 화면 확대 축소 허용 여부</span>
        <span class="n">webSet</span><span class="o">.</span><span class="na">setLayoutAlgorithm</span><span class="o">(</span><span class="nc">WebSettings</span><span class="o">.</span><span class="na">LayoutAlgorithm</span><span class="o">.</span><span class="na">SINGLE_COLUMN</span><span class="o">);</span> <span class="c1">// 컨텐츠 사이즈 맞추기</span>
        <span class="n">webSet</span><span class="o">.</span><span class="na">setCacheMode</span><span class="o">(</span><span class="nc">WebSettings</span><span class="o">.</span><span class="na">LOAD_NO_CACHE</span><span class="o">);</span> <span class="c1">// 브라우저 캐시 허용 여부</span>
        <span class="n">webSet</span><span class="o">.</span><span class="na">setDomStorageEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> <span class="c1">// 로컬저장소 허용 여부</span>


        <span class="n">frag1BtnGo</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="nc">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">frag1WebView</span><span class="o">.</span><span class="na">loadUrl</span><span class="o">(</span><span class="err">“</span><span class="nl">https:</span><span class="c1">//“ + frag1EdtText.getText().toString());</span>
            <span class="o">}</span>
        <span class="o">});</span>

        <span class="n">frag1BtnBack</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="nc">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">frag1WebView</span><span class="o">.</span><span class="na">goBack</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>

        <span class="k">return</span> <span class="n">view</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">displayToast</span><span class="o">(</span><span class="nc">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">view</span><span class="o">.</span><span class="na">getContext</span><span class="o">(),</span> <span class="n">message</span><span class="o">,</span> <span class="nc">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">CookWebViewClient</span> <span class="kd">extends</span> <span class="nc">WebViewClient</span> <span class="o">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">shouldOverrideUrlLoading</span><span class="o">(</span><span class="nc">WebView</span> <span class="n">view</span><span class="o">,</span> <span class="nc">String</span> <span class="n">url</span><span class="o">)</span> <span class="o">{</span>

            <span class="k">return</span> <span class="kd">super</span><span class="o">.</span><span class="na">shouldOverrideUrlLoading</span><span class="o">(</span><span class="n">view</span><span class="o">,</span> <span class="n">url</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>


</pre></table></code></div></div><p>위에서 사용한 Web View 옵션은 아래의 포스팅을 참고하였습니다. <a href="https://web-inf.tistory.com/34">WebView 안드로이드 웹뷰 생성하기 :: MAKE SOMETHING</a></p><p>그리고 Web View를 구현할 때는, AndroidManifest.xml에서 꼭 아래의 설정을 해주도록 합니다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="n">uses</span><span class="o">-</span><span class="n">permission</span> <span class="nl">android:</span><span class="n">name</span><span class="o">=</span><span class="err">“</span><span class="n">android</span><span class="o">.</span><span class="na">permission</span><span class="o">.</span><span class="na">INTERNET</span><span class="err">”</span> <span class="o">/&gt;</span>
</pre></table></code></div></div><h2 id="canvas-구현">Canvas 구현</h2><p>Canvas에 마우스 좌표에 따라 graphic을 그려보았습니다. 이 예제부터는 두가지의 view를 표현해야 합니다. 첫번째는 레이아웃의 정보를 담고 있는 view와 graphics의 정보를 담고 있는 view가 필요합니다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="nc">View</span> <span class="nf">onCreateView</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">LayoutInflater</span> <span class="n">inflater</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="nc">ViewGroup</span> <span class="n">container</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">view</span> <span class="o">=</span> <span class="n">inflater</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">fragment3</span><span class="o">,</span> <span class="n">container</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
        <span class="n">setHasOptionsMenu</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">MyGraphicView</span><span class="o">(</span><span class="n">view</span><span class="o">.</span><span class="na">getContext</span><span class="o">());</span>
    <span class="o">}</span>
</pre></table></code></div></div><p>onCreateView()를 살펴보겠습니다. 위의 웹뷰인 경우와 같이 view = inflater.inflate(R.layout.fragment3, container, false);를 통해 레이아웃에 대한 정보를 주었습니다.</p><p>옵션메뉴를 만들기 위해서 setHasOptionsMenu();라는 함수를 사용하였는데, 액티비테에서는 onCreateOptionsMenu() 함수를 만들면 되지만, Fragment에서 옵션메뉴를 활성화 하기 위해서 true값을 주어야 합니다. 옵션메뉴를 만드는 방법은 동일합니다.</p><p>마지막으로 리턴값인데, View가 아닌 MyGraphicView를 주었습니다. MyGraphicView 내부클래스는 그림을 그리기 위해 만든 클래스입니다. 때문에 Canvas와 Graphics 등의 정보는 레이아웃(View)에는 담겨있지 않습니다. 그 정보들은 MyGraphicView가 가지고 있는 정보입니다.</p><p>이 정보들을 값을 넘겨주기 위해서는 return이 MyGraphicView에 대한 것어여야 합니다.</p><h3 id="fragment3activity-java">Fragment3Activity. Java</h3><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.example.a9report_fragment_web_file_</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.Manifest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Canvas</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Color</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Paint</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.RectF</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.util.AttributeSet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.LayoutInflater</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.Menu</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.MenuInflater</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.MenuItem</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.MotionEvent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.SubMenu</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.ViewGroup</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.Toast</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">androidx.annotation.NonNull</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.annotation.Nullable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.fragment.app.Fragment</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Fragment3Activity</span> <span class="kd">extends</span> <span class="nc">Fragment</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="kd">static</span> <span class="kt">int</span> <span class="no">LINE</span> <span class="o">=</span> <span class="mi">1</span><span class="o">,</span> <span class="no">CIRCLE</span> <span class="o">=</span> <span class="mi">2</span><span class="o">,</span> <span class="no">RECTANGLE</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="n">curShape</span> <span class="o">=</span> <span class="no">LINE</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="no">COLOR</span> <span class="o">=</span> <span class="nc">Color</span><span class="o">.</span><span class="na">BLACK</span><span class="o">;</span>
    <span class="nc">View</span> <span class="n">view</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Fragment3Activity</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="nd">@Nullable</span>
    <span class="nd">@Override</span>
    <span class="c1">//setContentView와 같다.</span>
    <span class="kd">public</span> <span class="nc">View</span> <span class="nf">onCreateView</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">LayoutInflater</span> <span class="n">inflater</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="nc">ViewGroup</span> <span class="n">container</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">view</span> <span class="o">=</span> <span class="n">inflater</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">fragment3</span><span class="o">,</span> <span class="n">container</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
        <span class="n">setHasOptionsMenu</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">MyGraphicView</span><span class="o">(</span><span class="n">view</span><span class="o">.</span><span class="na">getContext</span><span class="o">());</span>
    <span class="o">}</span>


    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreateOptionsMenu</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">Menu</span> <span class="n">menu</span><span class="o">,</span> <span class="nd">@NonNull</span> <span class="nc">MenuInflater</span> <span class="n">inflater</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreateOptionsMenu</span><span class="o">(</span><span class="n">menu</span><span class="o">,</span> <span class="n">inflater</span><span class="o">);</span>
        <span class="n">menu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="err">“</span><span class="n">선그리기</span><span class="err">”</span><span class="o">);</span>
        <span class="n">menu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="err">“</span><span class="n">원그리기</span><span class="err">”</span><span class="o">);</span>
        <span class="n">menu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="err">“</span><span class="n">사각형그리기</span><span class="err">”</span><span class="o">);</span>
        <span class="nc">SubMenu</span> <span class="n">sMenu</span> <span class="o">=</span> <span class="n">menu</span><span class="o">.</span><span class="na">addSubMenu</span><span class="o">(</span><span class="err">“</span><span class="n">버튼</span> <span class="n">변경</span> <span class="o">&gt;&gt;</span><span class="err">”</span><span class="o">);</span>
        <span class="n">sMenu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="err">“</span><span class="n">빨강</span><span class="err">”</span><span class="o">);</span>
        <span class="n">sMenu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="err">“</span><span class="n">파랑</span><span class="err">”</span><span class="o">);</span>
        <span class="n">sMenu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">6</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="err">“</span><span class="n">노랑</span><span class="err">”</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onOptionsItemSelected</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">MenuItem</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">getItemId</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
                <span class="n">curShape</span> <span class="o">=</span> <span class="no">LINE</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
                <span class="n">curShape</span> <span class="o">=</span> <span class="no">CIRCLE</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
                <span class="n">curShape</span> <span class="o">=</span> <span class="no">RECTANGLE</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">4</span><span class="o">:</span>
                <span class="no">COLOR</span> <span class="o">=</span> <span class="nc">Color</span><span class="o">.</span><span class="na">RED</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">5</span><span class="o">:</span>
                <span class="no">COLOR</span> <span class="o">=</span> <span class="nc">Color</span><span class="o">.</span><span class="na">BLUE</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">6</span><span class="o">:</span>
                <span class="no">COLOR</span> <span class="o">=</span> <span class="nc">Color</span><span class="o">.</span><span class="na">YELLOW</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">displayToast</span><span class="o">(</span><span class="nc">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">view</span><span class="o">.</span><span class="na">getContext</span><span class="o">(),</span> <span class="n">message</span><span class="o">,</span> <span class="nc">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">MyGraphicView</span> <span class="kd">extends</span> <span class="nc">View</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kt">float</span> <span class="n">startX</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">startY</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">stopX</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">stopY</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nf">MyGraphicView</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">super</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nf">MyGraphicView</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="nc">AttributeSet</span> <span class="n">attrs</span><span class="o">,</span> <span class="kt">int</span> <span class="n">defStyleAttr</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">super</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">attrs</span><span class="o">,</span> <span class="n">defStyleAttr</span><span class="o">);</span>
        <span class="o">}</span>


        <span class="c1">//선을 그릴지 원을 그릴지 메뉴에서 선택정보가 있어야 함.</span>
        <span class="c1">//디폴트: 선</span>
        <span class="c1">//터치하는 좌표정보가 넘어와야 함.</span>

        <span class="c1">//화면에서 이벤트 정보를 받는 함수</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onTouchEvent</span><span class="o">(</span><span class="nc">MotionEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">switch</span> <span class="o">(</span><span class="n">event</span><span class="o">.</span><span class="na">getAction</span><span class="o">())</span> <span class="o">{</span>
                <span class="k">case</span> <span class="nc">MotionEvent</span><span class="o">.</span><span class="na">ACTION_DOWN</span><span class="o">:</span>
                    <span class="n">startX</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="na">getX</span><span class="o">();</span>
                    <span class="n">startY</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="na">getY</span><span class="o">();</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="nc">MotionEvent</span><span class="o">.</span><span class="na">ACTION_UP</span><span class="o">:</span>
                    <span class="n">stopX</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="na">getX</span><span class="o">();</span>
                    <span class="n">stopY</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="na">getY</span><span class="o">();</span>

                    <span class="c1">//무효화영역 처리</span>
                    <span class="n">invalidate</span><span class="o">();</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="nc">MotionEvent</span><span class="o">.</span><span class="na">ACTION_MOVE</span><span class="o">:</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="nc">MotionEvent</span><span class="o">.</span><span class="na">ACTION_CANCEL</span><span class="o">:</span>
                    <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onDraw</span><span class="o">(</span><span class="nc">Canvas</span> <span class="n">canvas</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">super</span><span class="o">.</span><span class="na">onDraw</span><span class="o">(</span><span class="n">canvas</span><span class="o">);</span>
            <span class="nc">Paint</span> <span class="n">paint</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Paint</span><span class="o">();</span>
            <span class="n">paint</span><span class="o">.</span><span class="na">setAntiAlias</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">paint</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="nc">Color</span><span class="o">.</span><span class="na">GREEN</span><span class="o">);</span>
            <span class="n">paint</span><span class="o">.</span><span class="na">setStrokeWidth</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
            <span class="n">paint</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="no">COLOR</span><span class="o">);</span>
            <span class="n">paint</span><span class="o">.</span><span class="na">setStyle</span><span class="o">(</span><span class="nc">Paint</span><span class="o">.</span><span class="na">Style</span><span class="o">.</span><span class="na">FILL</span><span class="o">);</span>

            <span class="k">switch</span> <span class="o">(</span><span class="n">curShape</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">case</span> <span class="nl">LINE:</span>
                    <span class="n">canvas</span><span class="o">.</span><span class="na">drawLine</span><span class="o">(</span><span class="n">startX</span><span class="o">,</span> <span class="n">startY</span><span class="o">,</span> <span class="n">stopX</span><span class="o">,</span> <span class="n">stopY</span><span class="o">,</span> <span class="n">paint</span><span class="o">);</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="nl">CIRCLE:</span>
                    <span class="kt">int</span> <span class="n">radius</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="nc">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">(</span><span class="nc">Math</span><span class="o">.</span><span class="na">pow</span><span class="o">(</span><span class="n">stopX</span> <span class="o">-</span> <span class="n">startX</span><span class="o">,</span> <span class="mi">2</span><span class="o">)</span>
                            <span class="o">+</span> <span class="nc">Math</span><span class="o">.</span><span class="na">pow</span><span class="o">(</span><span class="n">stopY</span> <span class="o">-</span> <span class="n">startY</span><span class="o">,</span> <span class="mi">2</span><span class="o">));</span>
                    <span class="n">canvas</span><span class="o">.</span><span class="na">drawCircle</span><span class="o">(</span><span class="n">startX</span><span class="o">,</span> <span class="n">startY</span><span class="o">,</span> <span class="n">radius</span><span class="o">,</span> <span class="n">paint</span><span class="o">);</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="nl">RECTANGLE:</span>
                    <span class="nc">RectF</span> <span class="n">rectF</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RectF</span><span class="o">();</span>
                    <span class="n">rectF</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">startX</span><span class="o">,</span> <span class="n">startY</span><span class="o">,</span> <span class="n">stopX</span><span class="o">,</span> <span class="n">stopY</span><span class="o">);</span>
                    <span class="n">canvas</span><span class="o">.</span><span class="na">drawRect</span><span class="o">(</span><span class="n">rectF</span><span class="o">,</span> <span class="n">paint</span><span class="o">);</span>
                    <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>

        <span class="o">}</span>
    <span class="o">}</span>


<span class="o">}</span>

</pre></table></code></div></div><h2 id="fragment를-사용하여-이미지-영상처리-구현">Fragment를 사용하여 이미지 영상처리 구현</h2><p>이번에는 MyGraphicView에서 canvas에 graphics를 그려내는 것이 아닌, 그림을 불러와 영상처리를 하도록 만들었습니다. Fragment도 생명주기를 가지고 있기 때문에 위에서 했던 방식으로 return을 해 준다면, 영상처리에 셋팅값을 변경해주어도 당장 변화를 보여주지 않습니다. 위에서 그리는 동작을 통해 마우스의 움직임에 따라 이벤트를 구현했다면, 이번엔 화면 전환이 이뤄지는 등의 화면이 다시 불려지는 상황이 발생해야 변경된 설정값을 구현합니다. 즉, MyGraphicView의 화면을 새로 그리도록 명령해야 하는데 그러기 위해서는 invalidate() 함수 처리를 할 수 있어야 하고, 때문에 MyGraphicView 타입의 변수를 선언할 필요가 있습니다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="nf">Fragment4Activity</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="nd">@Nullable</span>
    <span class="nd">@Override</span>
    <span class="c1">//setContentView와 같다.</span>
    <span class="kd">public</span> <span class="nc">View</span> <span class="nf">onCreateView</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">LayoutInflater</span> <span class="n">inflater</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="nc">ViewGroup</span> <span class="n">container</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">view</span> <span class="o">=</span> <span class="n">inflater</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">fragment3</span><span class="o">,</span> <span class="n">container</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
        <span class="n">setHasOptionsMenu</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">gView</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyGraphicView</span><span class="o">(</span><span class="n">view</span><span class="o">.</span><span class="na">getContext</span><span class="o">());</span>

        <span class="k">return</span> <span class="n">gView</span><span class="o">;</span>
    <span class="o">}</span>
</pre></table></code></div></div><h3 id="fragment4activity-java">Fragment4Activity. Java</h3><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.example.a9report_fragment_web_file_</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Bitmap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.BitmapFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.BlurMaskFilter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Canvas</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Color</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.ColorMatrix</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.ColorMatrixColorFilter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.EmbossMaskFilter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Paint</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.util.AttributeSet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.LayoutInflater</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.Menu</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.MenuInflater</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.MenuItem</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.SubMenu</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.ViewGroup</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.Toast</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">androidx.annotation.NonNull</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.annotation.Nullable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.fragment.app.Fragment</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Fragment4Activity</span> <span class="kd">extends</span> <span class="nc">Fragment</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="kd">static</span> <span class="kt">int</span> <span class="no">ROTATION</span> <span class="o">=</span> <span class="mi">1</span><span class="o">,</span> <span class="no">TRANCELATE</span> <span class="o">=</span> <span class="mi">2</span><span class="o">,</span> <span class="no">SCALE</span> <span class="o">=</span> <span class="mi">3</span><span class="o">,</span> <span class="no">SKEW</span> <span class="o">=</span> <span class="mi">4</span><span class="o">,</span>
            <span class="no">NORMAL</span> <span class="o">=</span> <span class="mi">5</span><span class="o">,</span> <span class="no">INNER</span> <span class="o">=</span> <span class="mi">6</span><span class="o">,</span> <span class="no">OUTER</span> <span class="o">=</span> <span class="mi">7</span><span class="o">,</span> <span class="no">SOLID</span> <span class="o">=</span> <span class="mi">8</span><span class="o">,</span>
            <span class="no">EM1</span> <span class="o">=</span> <span class="mi">9</span><span class="o">,</span> <span class="no">EM2</span> <span class="o">=</span> <span class="mi">10</span><span class="o">,</span> <span class="no">EM3</span> <span class="o">=</span> <span class="mi">11</span><span class="o">,</span> <span class="no">EM4</span> <span class="o">=</span> <span class="mi">12</span><span class="o">,</span> <span class="no">EM5</span> <span class="o">=</span> <span class="mi">13</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">func</span> <span class="o">=</span> <span class="no">ROTATION</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="no">COLOR</span> <span class="o">=</span> <span class="nc">Color</span><span class="o">.</span><span class="na">BLACK</span><span class="o">;</span>
    <span class="nc">View</span> <span class="n">view</span><span class="o">;</span>
    <span class="nc">MyGraphicView</span> <span class="n">gView</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Fragment4Activity</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="nd">@Nullable</span>
    <span class="nd">@Override</span>
    <span class="c1">//setContentView와 같다.</span>
    <span class="kd">public</span> <span class="nc">View</span> <span class="nf">onCreateView</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">LayoutInflater</span> <span class="n">inflater</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="nc">ViewGroup</span> <span class="n">container</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">view</span> <span class="o">=</span> <span class="n">inflater</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">fragment3</span><span class="o">,</span> <span class="n">container</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
        <span class="n">setHasOptionsMenu</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">gView</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyGraphicView</span><span class="o">(</span><span class="n">view</span><span class="o">.</span><span class="na">getContext</span><span class="o">());</span>

        <span class="k">return</span> <span class="n">gView</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreateOptionsMenu</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">Menu</span> <span class="n">menu</span><span class="o">,</span> <span class="nd">@NonNull</span> <span class="nc">MenuInflater</span> <span class="n">inflater</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreateOptionsMenu</span><span class="o">(</span><span class="n">menu</span><span class="o">,</span> <span class="n">inflater</span><span class="o">);</span>
        <span class="nc">SubMenu</span> <span class="n">sMenu1</span> <span class="o">=</span> <span class="n">menu</span><span class="o">.</span><span class="na">addSubMenu</span><span class="o">(</span><span class="s">"기하학적 변경 &gt;&gt;"</span><span class="o">);</span>
        <span class="n">sMenu1</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="s">"회전"</span><span class="o">);</span>
        <span class="n">sMenu1</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="s">"변경"</span><span class="o">);</span>
        <span class="n">sMenu1</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="s">"크기변환"</span><span class="o">);</span>
        <span class="n">sMenu1</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="s">"비틀기"</span><span class="o">);</span>
        <span class="nc">SubMenu</span> <span class="n">sMenu2</span> <span class="o">=</span> <span class="n">menu</span><span class="o">.</span><span class="na">addSubMenu</span><span class="o">(</span><span class="s">"블러 변경 &gt;&gt;"</span><span class="o">);</span>
        <span class="n">sMenu2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="s">"노말"</span><span class="o">);</span>
        <span class="n">sMenu2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">6</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="s">"이너"</span><span class="o">);</span>
        <span class="n">sMenu2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="s">"아우터"</span><span class="o">);</span>
        <span class="n">sMenu2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">8</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="s">"솔리드"</span><span class="o">);</span>
        <span class="n">menu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">9</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="s">"마스크"</span><span class="o">);</span>
        <span class="nc">SubMenu</span> <span class="n">sMenu3</span> <span class="o">=</span> <span class="n">menu</span><span class="o">.</span><span class="na">addSubMenu</span><span class="o">(</span><span class="s">"엠보싱 변경 &gt;&gt;"</span><span class="o">);</span>
        <span class="n">sMenu3</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="s">"1"</span><span class="o">);</span>
        <span class="n">sMenu3</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">11</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="s">"2"</span><span class="o">);</span>
        <span class="n">sMenu3</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="s">"3"</span><span class="o">);</span>
        <span class="n">sMenu3</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">12</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="s">"4"</span><span class="o">);</span>

    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onOptionsItemSelected</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">MenuItem</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">getItemId</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
                <span class="n">func</span> <span class="o">=</span> <span class="no">ROTATION</span><span class="o">;</span>
                <span class="n">gView</span><span class="o">.</span><span class="na">invalidate</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
                <span class="n">func</span> <span class="o">=</span> <span class="no">TRANCELATE</span><span class="o">;</span>
                <span class="n">gView</span><span class="o">.</span><span class="na">invalidate</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
                <span class="n">func</span> <span class="o">=</span> <span class="no">SCALE</span><span class="o">;</span>
                <span class="n">gView</span><span class="o">.</span><span class="na">invalidate</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">4</span><span class="o">:</span>
                <span class="n">func</span> <span class="o">=</span> <span class="no">SKEW</span><span class="o">;</span>
                <span class="n">gView</span><span class="o">.</span><span class="na">invalidate</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">5</span><span class="o">:</span>
                <span class="n">func</span> <span class="o">=</span> <span class="no">NORMAL</span><span class="o">;</span>
                <span class="n">gView</span><span class="o">.</span><span class="na">invalidate</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">6</span><span class="o">:</span>
                <span class="n">func</span> <span class="o">=</span> <span class="no">INNER</span><span class="o">;</span>
                <span class="n">gView</span><span class="o">.</span><span class="na">invalidate</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">7</span><span class="o">:</span>
                <span class="n">func</span> <span class="o">=</span> <span class="no">OUTER</span><span class="o">;</span>
                <span class="n">gView</span><span class="o">.</span><span class="na">invalidate</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">8</span><span class="o">:</span>
                <span class="n">func</span> <span class="o">=</span> <span class="no">SOLID</span><span class="o">;</span>
                <span class="n">gView</span><span class="o">.</span><span class="na">invalidate</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">9</span><span class="o">:</span> <span class="c1">//마스크변경</span>
                <span class="n">func</span> <span class="o">=</span> <span class="no">EM1</span><span class="o">;</span>
                <span class="n">gView</span><span class="o">.</span><span class="na">invalidate</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">10</span><span class="o">:</span> <span class="c1">//엠보싱변경</span>
                <span class="n">func</span> <span class="o">=</span> <span class="no">EM2</span><span class="o">;</span>
                <span class="n">gView</span><span class="o">.</span><span class="na">invalidate</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">11</span><span class="o">:</span> <span class="c1">//엠보싱변경</span>
                <span class="n">func</span> <span class="o">=</span> <span class="no">EM3</span><span class="o">;</span>
                <span class="n">gView</span><span class="o">.</span><span class="na">invalidate</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">12</span><span class="o">:</span> <span class="c1">//엠보싱변경</span>
                <span class="n">func</span> <span class="o">=</span> <span class="no">EM4</span><span class="o">;</span>
                <span class="n">gView</span><span class="o">.</span><span class="na">invalidate</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="mi">13</span><span class="o">:</span> <span class="c1">//엠보싱변경</span>
                <span class="n">func</span> <span class="o">=</span> <span class="no">EM5</span><span class="o">;</span>
                <span class="n">gView</span><span class="o">.</span><span class="na">invalidate</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">displayToast</span><span class="o">(</span><span class="nc">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">view</span><span class="o">.</span><span class="na">getContext</span><span class="o">(),</span> <span class="n">message</span><span class="o">,</span> <span class="nc">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">MyGraphicView</span> <span class="kd">extends</span> <span class="nc">View</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kt">float</span> <span class="n">startX</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">startY</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">stopX</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">stopY</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
        <span class="nc">BlurMaskFilter</span> <span class="n">bMask</span><span class="o">;</span>
        <span class="nc">EmbossMaskFilter</span> <span class="n">eMask</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nf">MyGraphicView</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">super</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nf">MyGraphicView</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="nc">AttributeSet</span> <span class="n">attrs</span><span class="o">,</span> <span class="kt">int</span> <span class="n">defStyleAttr</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">super</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">attrs</span><span class="o">,</span> <span class="n">defStyleAttr</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onDraw</span><span class="o">(</span><span class="nc">Canvas</span> <span class="n">canvas</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">super</span><span class="o">.</span><span class="na">onDraw</span><span class="o">(</span><span class="n">canvas</span><span class="o">);</span>
            <span class="nc">Bitmap</span> <span class="n">picture</span> <span class="o">=</span> <span class="nc">BitmapFactory</span><span class="o">.</span><span class="na">decodeResource</span><span class="o">(</span><span class="n">getResources</span><span class="o">(),</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">pic1</span><span class="o">);</span>
            <span class="nc">Paint</span> <span class="n">paint</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Paint</span><span class="o">();</span>


            <span class="kt">int</span> <span class="n">cenX</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">getWidth</span><span class="o">()</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">cenY</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">getHeight</span><span class="o">()</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">picX</span> <span class="o">=</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">getWidth</span><span class="o">()</span> <span class="o">-</span> <span class="n">picture</span><span class="o">.</span><span class="na">getWidth</span><span class="o">())</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">picY</span> <span class="o">=</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">getHeight</span><span class="o">()</span> <span class="o">-</span> <span class="n">picture</span><span class="o">.</span><span class="na">getHeight</span><span class="o">())</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>

            <span class="k">switch</span> <span class="o">(</span><span class="n">func</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
                    <span class="n">canvas</span><span class="o">.</span><span class="na">rotate</span><span class="o">(</span><span class="mi">45</span><span class="o">,</span> <span class="n">cenX</span><span class="o">,</span> <span class="n">cenY</span><span class="o">);</span>
                    <span class="n">displayToast</span><span class="o">(</span><span class="s">"1"</span><span class="o">);</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
                    <span class="n">canvas</span><span class="o">.</span><span class="na">translate</span><span class="o">(-</span><span class="mi">150</span><span class="o">,</span> <span class="mi">200</span><span class="o">);</span>
                    <span class="n">displayToast</span><span class="o">(</span><span class="s">"2"</span><span class="o">);</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
                    <span class="n">canvas</span><span class="o">.</span><span class="na">scale</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="n">cenX</span><span class="o">,</span> <span class="n">cenY</span><span class="o">);</span>
                    <span class="n">displayToast</span><span class="o">(</span><span class="s">"3"</span><span class="o">);</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">4</span><span class="o">:</span>
                    <span class="n">canvas</span><span class="o">.</span><span class="na">skew</span><span class="o">(</span><span class="mf">0.3f</span><span class="o">,</span> <span class="mf">0.3f</span><span class="o">);</span>
                    <span class="n">displayToast</span><span class="o">(</span><span class="s">"4"</span><span class="o">);</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">5</span><span class="o">:</span>
                    <span class="n">bMask</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BlurMaskFilter</span><span class="o">(</span><span class="mi">30</span><span class="o">,</span> <span class="nc">BlurMaskFilter</span><span class="o">.</span><span class="na">Blur</span><span class="o">.</span><span class="na">NORMAL</span><span class="o">);</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">6</span><span class="o">:</span>
                    <span class="n">bMask</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BlurMaskFilter</span><span class="o">(</span><span class="mi">30</span><span class="o">,</span> <span class="nc">BlurMaskFilter</span><span class="o">.</span><span class="na">Blur</span><span class="o">.</span><span class="na">INNER</span><span class="o">);</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">7</span><span class="o">:</span>
                    <span class="n">bMask</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BlurMaskFilter</span><span class="o">(</span><span class="mi">30</span><span class="o">,</span> <span class="nc">BlurMaskFilter</span><span class="o">.</span><span class="na">Blur</span><span class="o">.</span><span class="na">OUTER</span><span class="o">);</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">8</span><span class="o">:</span>
                    <span class="n">bMask</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BlurMaskFilter</span><span class="o">(</span><span class="mi">30</span><span class="o">,</span> <span class="nc">BlurMaskFilter</span><span class="o">.</span><span class="na">Blur</span><span class="o">.</span><span class="na">SOLID</span><span class="o">);</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">9</span><span class="o">:</span>
                    <span class="kt">float</span><span class="o">[]</span> <span class="n">array</span> <span class="o">=</span> <span class="o">{</span><span class="mi">2</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="o">-</span><span class="mi">25</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="o">-</span><span class="mi">25</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="o">-</span><span class="mi">25</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">};</span>
                    <span class="nc">ColorMatrix</span> <span class="n">cm</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ColorMatrix</span><span class="o">(</span><span class="n">array</span><span class="o">);</span>
                    <span class="n">paint</span><span class="o">.</span><span class="na">setColorFilter</span><span class="o">(</span><span class="k">new</span> <span class="nc">ColorMatrixColorFilter</span><span class="o">(</span><span class="n">cm</span><span class="o">));</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">10</span><span class="o">:</span>
                    <span class="n">eMask</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">EmbossMaskFilter</span><span class="o">(</span><span class="k">new</span> <span class="kt">float</span><span class="o">[]{</span><span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">},</span> <span class="mf">0.2f</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">11</span><span class="o">:</span>
                    <span class="n">eMask</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">EmbossMaskFilter</span><span class="o">(</span><span class="k">new</span> <span class="kt">float</span><span class="o">[]{</span><span class="mi">10</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">},</span> <span class="mf">0.2f</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">12</span><span class="o">:</span>
                    <span class="n">eMask</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">EmbossMaskFilter</span><span class="o">(</span><span class="k">new</span> <span class="kt">float</span><span class="o">[]{</span><span class="mi">3</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mi">3</span><span class="o">},</span> <span class="mf">0.2f</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="k">case</span> <span class="mi">13</span><span class="o">:</span>
                    <span class="n">eMask</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">EmbossMaskFilter</span><span class="o">(</span><span class="k">new</span> <span class="kt">float</span><span class="o">[]{</span><span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">10</span><span class="o">},</span> <span class="mf">0.2f</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
                    <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">func</span> <span class="o">&gt;</span> <span class="mi">9</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">paint</span><span class="o">.</span><span class="na">setMaskFilter</span><span class="o">(</span><span class="n">eMask</span><span class="o">);</span>
                <span class="n">canvas</span><span class="o">.</span><span class="na">drawCircle</span><span class="o">(</span><span class="n">cenX</span><span class="o">,</span> <span class="n">cenY</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="n">paint</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">func</span> <span class="o">&gt;</span> <span class="mi">4</span> <span class="o">|</span> <span class="n">func</span> <span class="o">&lt;=</span> <span class="mi">9</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">paint</span><span class="o">.</span><span class="na">setMaskFilter</span><span class="o">(</span><span class="n">bMask</span><span class="o">);</span>
                <span class="n">canvas</span><span class="o">.</span><span class="na">drawBitmap</span><span class="o">(</span><span class="n">picture</span><span class="o">,</span> <span class="n">picX</span><span class="o">,</span> <span class="n">picY</span><span class="o">,</span> <span class="n">paint</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">canvas</span><span class="o">.</span><span class="na">drawBitmap</span><span class="o">(</span><span class="n">picture</span><span class="o">,</span> <span class="n">picX</span><span class="o">,</span> <span class="n">picY</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="n">picture</span><span class="o">.</span><span class="na">recycle</span><span class="o">();</span>

        <span class="o">}</span>

        <span class="kd">private</span> <span class="kt">void</span> <span class="nf">displayToast</span><span class="o">(</span><span class="nc">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">getContext</span><span class="o">(),</span> <span class="n">message</span><span class="o">,</span> <span class="nc">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>

</pre></table></code></div></div><p>Fragment를 사용하는 방법은 다양합니다. 그 중의 하나의 방법을 이야기해보았습니다. 예를 들어 새로운 레이아웃을 사용하여 add하는 방법도 생각할 수 있습니다. 물론 그렇게 된다면 또 하나의 액티비티를 구현해야 할 것 입니다. 이미지 처리를 위해서 내장 클래스를 사용했고, 때문에 내장 클래스를 위한 View를 다뤄보는 방법으로 구현해 본 코드입니다. Fragmant를 사용해 이미지를 그리거나 그래픽을 그리는 기능 구현에 어려움이 있었다면 이 포스트가 도움이 되셨길 바랍니다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/android/'>Android</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/android/" class="post-tag no-text-decoration" >Android</a> <a href="/tags/layout/" class="post-tag no-text-decoration" >Layout</a> <a href="/tags/fragment/" class="post-tag no-text-decoration" >Fragment</a> <a href="/tags/web/" class="post-tag no-text-decoration" >Web</a> <a href="/tags/view/" class="post-tag no-text-decoration" >View</a> <a href="/tags/canvas/" class="post-tag no-text-decoration" >Canvas</a> <a href="/tags/imgae/" class="post-tag no-text-decoration" >Imgae</a> <a href="/tags/java/" class="post-tag no-text-decoration" >Java</a> <a href="/tags/til/" class="post-tag no-text-decoration" >TIL</a> <a href="/tags/today-i-leaned/" class="post-tag no-text-decoration" >Today I Leaned</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Android Fragment&(Web View, Canvas, Imgae Edit) - 우당탕탕 벌크업만 성공한 개발자&url=https://yeonseo.github.io/posts/android-fragment-post-copy/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Android Fragment&(Web View, Canvas, Imgae Edit) - 우당탕탕 벌크업만 성공한 개발자&u=https://yeonseo.github.io/posts/android-fragment-post-copy/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Android Fragment&(Web View, Canvas, Imgae Edit) - 우당탕탕 벌크업만 성공한 개발자&url=https://yeonseo.github.io/posts/android-fragment-post-copy/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Kubernetes-Ingress-413-post/">Kubernetes Ingress 413 오류 해결 과정과 최적화 전략</a><li><a href="/posts/Developer-mindset-post/">Vue 프로젝트 회고 - 처음부터 끝까지의 경험과 교훈</a><li><a href="/posts/Developer-Frontend-Vue-post/">개발자의 소통에 대한 고찰 - 기획과 개발 사이에서 길을 찾다</a><li><a href="/posts/React-State-Manage-post/">React에서의 State 개념 정리</a><li><a href="/posts/React-StrictMode-post/">React.StrictMode - React 애플리케이션의 품질을 향상시키는 도구</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/til/">TIL</a> <a class="post-tag" href="/tags/today-i-leaned/">Today I Leaned</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/backend/">Backend</a> <a class="post-tag" href="/tags/kotlin/">Kotlin</a> <a class="post-tag" href="/tags/spring-boot/">Spring Boot</a> <a class="post-tag" href="/tags/frontend/">Frontend</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/nodejs/">NodeJS</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/android-AutoCompleteTextView-Web-post/"><div class="card-body"> <span class="timeago small" > Nov 5, 2019 <i class="unloaded">2019-11-05T14:34:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Android Web & AutoCompleteTextView</h3><div class="text-muted small"><p> Development Env. post date : 2019. 11. 05 OS : macOS Catalina 64bit Java version : JDK 1.8.0 J_220 JRE8 Android : Pie(9.0) Eclipse : 2019-06 (4.12.0) WebView 웹페이지를 구현할 수 있는 WebView입...</p></div></div></a></div><div class="card"> <a href="/posts/android-context-post/"><div class="card-body"> <span class="timeago small" > Nov 5, 2019 <i class="unloaded">2019-11-05T19:34:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Android 위젯(Context)</h3><div class="text-muted small"><p> Development Env. post date : 2019. 11. 05 OS : macOS Catalina 64bit Java version : JDK 1.8.0 J_220 JRE8 Android : Pie(9.0) Eclipse : 2019-06 (4.12.0) Context MainActivity.java pub...</p></div></div></a></div><div class="card"> <a href="/posts/SpringBoot-ExceptionHandler-post/"><div class="card-body"> <span class="timeago small" > Oct 24, 2023 <i class="unloaded">2023-10-24T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Spring Boot 버전 업그레이드 후 예외 처리 방식 변화 대응기</h3><div class="text-muted small"><p> 1. 문제 정의: 예외 핸들러가 무력화되다?! Spring Boot는 빠른 개발 속도와 확장성 덕분에 많은 프로젝트에서 널리 사용된다. 그러나 이러한 장점에도 불구하고, 버전 업그레이드 과정에서 기존 코드가 예상치 못한 방식으로 동작하는 경우가 발생할 수 있다. 이번 프로젝트에서도 Spring Boot 버전 업그레이드 후 기존 예외 핸들러가 제대로...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/android-context-post/" class="btn btn-outline-primary" prompt="Older"><p>Android 위젯(Context)</p></a> <a href="/posts/Django-IntroAndSetting-post/" class="btn btn-outline-primary" prompt="Newer"><p>Python & Django 설치 및 프로젝트 생성하기</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//yeonseonam.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'Android Fragment&(Web View, Canvas, Imgae Edit)'; this.page.url = 'https://yeonseo.github.io/posts/android-fragment-post-copy/'; this.page.identifier = 'https://yeonseo.github.io/posts/android-fragment-post-copy/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/yeonseo">남연서</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/til/">TIL</a> <a class="post-tag" href="/tags/today-i-leaned/">Today I Leaned</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/backend/">Backend</a> <a class="post-tag" href="/tags/kotlin/">Kotlin</a> <a class="post-tag" href="/tags/spring-boot/">Spring Boot</a> <a class="post-tag" href="/tags/frontend/">Frontend</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/nodejs/">NodeJS</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://yeonseo.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
