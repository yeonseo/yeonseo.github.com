---
layout: post
title: Vue3ì—ì„œ Tiptap (WYSIWYG Editor) ì‚¬ìš©í•˜ê¸°
description: ""
tags: [Vue3, Web, Frontend, TIL, Today I Leaned]
comments : true
category : [Frontend, Vue, Tiptap]
sitemap:
  changefreq: daily
  priority : 1.0
---

# Tiptap íŠ¹ì§•
Headless
Itâ€™s headless and comes without any CSS. You are in full control over markup, styling and behaviour.

Framework-agnostic
Out of the box, Tiptap works with Vanilla JavaScript and Vue.js, but itâ€™s also possible to use it in React, Svelte and others.

TypeScript
TypeScript helps to find bugs early and gives you a nice autocomplete for the API on top of the extensive human written documentation.

Collaborative
Real-time collaboration, syncing between different devices and working offline isnâ€™t hard anymore. Keep everything in sync with the magic of Y.js.

Community
Thereâ€™s so much content shared, so many people helping out in issues and a ton of community extensions, youâ€™ll be surprised how much that all can help.



# ì£¼ì˜ì‚¬í•­
í˜„ì¬ ì§„í–‰ì¤‘ì¸ í”„ë¡œì íŠ¸ì—ì„œ ë„ì…í•˜ë©´ì„œ ë¸”ë¡œê·¸ ê¸€ì„ ì‘ì„±í•˜ëŠë¼, ì½”ë“œë¥¼ í¸ì§‘í•˜ë‹¤ë³´ë‹ˆ ì œëŒ€ë¡œ ëŒì•„ê°€ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. :-)

<div class="space-item-3"></div>

# í”„ë¡œì íŠ¸ì— tiptap ì¶”ê°€í•˜ê¸°

## 1.í”„ë¡œì íŠ¸ í´ë” ë‚´ì—ì„œ í„°ë¯¸ë„ì„ ì—´ì–´ ì•„ë˜ì˜ ëª…ë ¹ì–´ë¡œ ì„¤ì¹˜í•˜ê¸°

```Console
$ npm install @tiptap/vue-3 @tiptap/starter-kit
```

## 2.tiptap ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

í˜„ì¬ ì‚¬ìš©ì¤‘ì¸ í”„ë¡œì íŠ¸ì—ì„œ `fontawesome` <https://fontawesome.com> ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì–´ì„œ ë²„íŠ¼ì— ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. 

-> Tiptap ë²„íŠ¼ ì˜ˆì‹œ - <https://tiptap.dev/examples/default>
-> commands ì˜ˆì‹œ - <https://tiptap.dev/api/commands>

### (1) Tiptap ì»´í¬ë„ŒíŠ¸ ìƒì„±
```Vue
<template>
    <div>
        <div class="editor__header">
            <button class="menu-item" @click="editor.chain().focus().toggleBold().run()" :class="{ 'is-active': editor.isActive('bold') }">
                <i class="fa-solid fa-bold"></i>
            </button>
            <button class="menu-item" @click="editor.chain().focus().toggleItalic().run()" :class="{ 'is-active': editor.isActive('italic') }">
                <i class="fa-solid fa-italic"></i>
            </button>
            <button class="menu-item" @click="editor.chain().focus().toggleStrike().run()" :class="{ 'is-active': editor.isActive('strike') }">
                <i class="fa-solid fa-strikethrough"></i>
            </button>

            <div class="divider"></div>

            <button class="menu-item" @click="editor.chain().focus().toggleHeading({ level: 1 }).run()" :class="{ 'is-active': editor.isActive('heading', { level: 1 }) }">
                h1
            </button>
            <button class="menu-item" @click="editor.chain().focus().toggleHeading({ level: 2 }).run()" :class="{ 'is-active': editor.isActive('heading', { level: 2 }) }">
                h2
            </button>
            <button class="menu-item" @click="editor.chain().focus().toggleHeading({ level: 3 }).run()" :class="{ 'is-active': editor.isActive('heading', { level: 3 }) }">
                h3
            </button>
            <button class="menu-item" @click="editor.chain().focus().toggleHeading({ level: 4 }).run()" :class="{ 'is-active': editor.isActive('heading', { level: 4 }) }">
                h4
            </button>
            <button class="menu-item" @click="editor.chain().focus().toggleHeading({ level: 5 }).run()" :class="{ 'is-active': editor.isActive('heading', { level: 5 }) }">
                h5
            </button>
            <button class="menu-item" @click="editor.chain().focus().toggleHeading({ level: 6 }).run()" :class="{ 'is-active': editor.isActive('heading', { level: 6 }) }">
                h6
            </button>

            <div class="divider"></div>

            <button class="menu-item" @click="editor.chain().focus().toggleBulletList().run()" :class="{ 'is-active': editor.isActive('bulletList') }">
                <i class="fa-solid fa-list-ul"></i>
            </button>
            <button class="menu-item" @click="editor.chain().focus().toggleOrderedList().run()" :class="{ 'is-active': editor.isActive('orderedList') }">
                <i class="fa-solid fa-list-ol"></i>
            </button>

            <div class="divider"></div>

            <button class="menu-item" @click="editor.chain().focus().undo().run()">
                <i class="fa-solid fa-rotate-left"></i>
            </button>
            <button class="menu-item" @click="editor.chain().focus().redo().run()">
                <i class="fa-solid fa-rotate-right"></i>
            </button>
        </div>
        <editor-content :editor="editor" />
    </div>
</template>

<script>
import { inject, onMounted, onBeforeUnmount, reactive, toRefs, ref } from "vue";
import { useEditor, EditorContent  } from '@tiptap/vue-3'
import StarterKit from '@tiptap/starter-kit'
import Paragraph from '@tiptap/extension-paragraph'
import Text from '@tiptap/extension-text'
import TextStyle from '@tiptap/extension-text-style'

export default {
    setup(props, context) {
        const data = ref(null);
        data.value = props.data;

        const state = reactive({
            // Tiptap ì—ë””í„°ê°€ ë‹´ê¸¸ ë³€ìˆ˜
            editor: useEditor({
                content: '<p>Iâ€™m running Tiptap with Vue.js. ğŸ‰</p>',
                extensions: [
                    StarterKit,
                    Paragraph,
                    Text,
                    TextStyle,
                ],
            }),
	    });

        return {
	        ...toRefs(state),
	        changeFileList,
	        removeFile,
	        previewFile,
	        handleExceed,
	        beforeRemoveFile,
        };
    },

    components: {
        EditorContent,
    },
};
</script>
```


### (2) CSS íŒŒì¼ ìˆ˜ì •

```css
.editor__header {
    display: flex;
    align-items: center;
    flex: 0 0 auto;
    flex-wrap: wrap;
    padding: 0.25rem;

    .menu-item {
        width: 1.75rem;
        height: 1.75rem;
        color: #0d0d0d;
        border: none;
        background-color: transparent;
        border-radius: 0.4rem;
        padding: 0.25rem;
        margin-right: 0.25rem;

        &.is-active, &:hover {
            color: #fff;
            background-color: #0d0d0d;
        }
    }

    .divider {
        width: 2px;
        height: 1.25rem;
        background-color: #0000001a;
        margin-left: 0.5rem;
        margin-right: 0.75rem;
    }
}
.ProseMirror {
    resize: none;
    border-radius: 4px;
    padding: 5px;
    border: 1px solid #DADCDE;
    background-color: #fff;
    height: 30rem;
    overflow: scroll;

    strong {
        font-weight: bold !important;
    }

    em {
        font-style: italic !important;
    }
}

```

## 3. ì—ë””í„°ë¥¼ êµ¬í˜„í•˜ë ¤ëŠ” ì»´í¬ë„ŒíŠ¸ì— ë¶ˆëŸ¬ì˜¤ê¸°

```Vue
<template>
	<div id="app">
		<Tiptap :detail="item.detail"/>
	</div>
</template>

<script>
import {reactive, toRefs} from "vue";
import Tiptap from './components/Tiptap.vue'

export default {
    name: 'App',

    setup(props, context) {
         const state = reactive({
			item: {
                "title": "",
                "detail": "",
            }
        });

        return {
            ...toRefs(state),
        }
    },
    components: {
        Tiptap
    }
}
</script>
```


ì•„ë˜ì˜ ì½”ë“œë¡œ ì‘ì„±í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.

![tiptap](/post/images/2022-03-24-tiptap-1.png)




<div class="space-item-6"></div>




# ì´ë¯¸ì§€ ì—…ë¡œë“œ ë§Œë“¤ê¸°



## 1.í”„ë¡œì íŠ¸ í´ë” ë‚´ì—ì„œ í„°ë¯¸ë„ì„ ì—´ì–´ ì•„ë˜ì˜ ëª…ë ¹ì–´ë¡œ ì„¤ì¹˜í•˜ê¸°



-> Tiptap Image <https://tiptap.dev/api/nodes/image>

```Console
$ npm install @tiptap/extension-image
```

ì €ëŠ” element-plusë¡œ ì—…ë¡œë“œë¥¼ êµ¬í˜„í–ˆì—ˆì–´ì„œ, ê·¸ëŒ€ë¡œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ì—†ìœ¼ì‹  ë¶„ë“¤ì€ ì•„ë˜ ì»¤ë§¨ë“œë¡œ ë°›ì•„ ì§„í–‰í•˜ë©´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.

```Console
$ npm install element-plus
```

## 2.tiptap ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

```Vue
<template>
    <div>
        <div class="editor__header">
            ...
            
            <button class="menu-item" @click="">
                <el-upload
                        multiple
                        action=""
                        :auto-upload="false"
                        :file-list="fileList"
                        :on-change="changeFileList"
                        :on-preview="previewFile"
                        :on-remove="removeFile"
                        :on-exceed="handleExceed"
                        :before-remove="beforeRemoveFile"
                        :show-file-list="false"
                >
                    <i class="fa-solid fa-image"></i>
                </el-upload>
            </button>
        </div>
        <editor-content :editor="editor"/>
    </div>
</template>

<script>
import {inject, onMounted, reactive, toRefs, ref} from "vue";
import { useEditor, EditorContent  } from '@tiptap/vue-3'
import StarterKit from '@tiptap/starter-kit'
import Paragraph from '@tiptap/extension-paragraph'
import Text from '@tiptap/extension-text'
import TextStyle from '@tiptap/extension-text-style'
import Image from '@tiptap/extension-image'

export default {
    props: {
        detail: {
            type: String,
        },
        option: {
            type: Object,
        }
    },
    setup(props, context) {
        const option = ref(null);
        option.value = props.option;

        const state = reactive({
            // Tiptap ì—ë””í„°ê°€ ë‹´ê¸¸ ë³€ìˆ˜
            editor: useEditor({
                // content: '<p>Iâ€™m running Tiptap with Vue.js. ğŸ‰</p>',
                content: '',
                extensions: [
                    StarterKit,
                    Paragraph,
                    Text,
                    TextStyle,

                    //ì´ë¯¸ì§€ ì¶”ê°€
                    Image,
                ],

                // content ë³€ê²½ì´ ì¼ì–´ë‚  ë•Œ, ê°’ì„ ë°›ê¸° ìœ„í•´ì„œ ì ìš©
                onUpdate({ }) {
                    getTiptapContent();
                },
            }),

            // íŒŒì¼ì´ ë‹´ê¸¸ List
            fileList: []
	    });

        
        onMounted (async () => {
            state.editor.commands.setContent(props.detail);
        });

	    const changeFileList = (uploadFile, fileList) => {
		    console.log('changeFileList');
		    const file = uploadFile.raw;
            console.log(file);

		    if (file.type !== 'image/jpeg' && file.type !== 'image/jpg' && file.type !== 'image/png') {
			    const targetIdx = fileList.findIndex(item => item.uid === file.uid);
                state.fileList = fileList.splice(targetIdx,1);
			    return toast('ì´ë¯¸ì§€ ë˜ëŠ” PDF íŒŒì¼ì„ ì—…ë¡œë“œ í•´ì£¼ì„¸ìš”');
		    }

		    if (file.size > option.value.fileMaxSize*1024*1000) {
			    const targetIdx = fileList.findIndex(item => item.uid === file.uid);
                state.fileList = fileList.splice(targetIdx,1);
			    return toast(`ì²¨ë¶€íŒŒì¼ì€ ${option.value.fileMaxSize}MBë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤`);
		    }

		    context.emit('change', fileList);

            // TODO api í˜¸ì¶œë¶€
            // êµ¬í˜„ë¶€ì—†ì´ ì„ì‹œë¡œ URL ë°›ìŒ
            const createObjectURL = URL.createObjectURL(file);

            state.editor.chain().focus().setImage({ src: createObjectURL }).run()
        };

        const handleAvatarSuccess = (res, file) => {
            console.log('changeFileList');
            console.log(file);

            state.fileList.add(URL.createObjectURL(file.raw))
        }

	    const previewFile = (file) => {
		    console.log('previewFile');
		    console.log(file);
	    };
	    const beforeRemoveFile = (file, fileList) => {
		    console.log('beforeRemoveFile');
		    return toast('íŒŒì¼ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤');
	    };
	    const removeFile = (file, fileList) => {
		    console.log('removeFile');
		    console.log(file, fileList);
	    };
	    const handleExceed = (files, fileList) => {
		    console.log('handleExceed');
		    toast(`${option.value.limit}ê°œ ì´í•˜ë¡œ íŒŒì¼ì²¨ë¶€ ê°€ëŠ¥í•©ë‹ˆë‹¤`);
	    };

	    const getTiptapContent = () => {
            context.emit('change', state.editor.getHTML());
	    };

        return {
	        ...toRefs(state),
	        changeFileList,
            handleAvatarSuccess,
            removeFile,
	        previewFile,
	        handleExceed,
	        beforeRemoveFile,
            getTiptapContent,
        };
    },

    components: {
        EditorContent,
    },
};
</script>
```


### (2) CSS íŒŒì¼ ìˆ˜ì •

```css
.editor__header {
    display: flex;
    align-items: center;
    flex: 0 0 auto;
    flex-wrap: wrap;
    padding: 0.25rem;

    .menu-item {
        width: 1.75rem;
        height: 1.75rem;
        color: #0d0d0d;
        border: none;
        background-color: transparent;
        border-radius: 0.4rem;
        padding: 0.25rem;
        margin-right: 0.25rem;

        &.is-active, &:hover {
            color: #fff;
            background-color: #0d0d0d;
        }

        .el-upload { // ì´ ë¶€ë¶„ì´ ì¶”ê°€ ë˜ì—ˆì–´ìš”
            position: unset;
        }
    }

    .divider {
        width: 2px;
        height: 1.25rem;
        background-color: #0000001a;
        margin-left: 0.5rem;
        margin-right: 0.75rem;
    }
}
.ProseMirror {
    resize: none;
    border-radius: 4px;
    padding: 5px;
    border: 1px solid #DADCDE;
    background-color: #fff;
    height: 30rem;
    overflow: scroll;

    strong {
        font-weight: bold !important;
    }

    em {
        font-style: italic !important;
    }
}
```



## 3. ì—ë””í„°ë¥¼ êµ¬í˜„í•˜ë ¤ëŠ” ì»´í¬ë„ŒíŠ¸ì— ë¶ˆëŸ¬ì˜¤ê¸°

```Vue

<template>
	<div id="app">
		<Tiptap :detail="item.detail" :option="option" @change="getTiptapContent"/>
	</div>
</template>

<script>
import {reactive, toRefs} from "vue";
import Tiptap from './components/Tiptap.vue'

export default {
    name: 'App',

    setup(props, context) {
         const state = reactive({
			item: {
                "title": "",
                "detail": "",
            },

            option: {
				limit: 10,		// íŒŒì¼ ì—…ë¡œë“œ ê°¯ìˆ˜ ì œí•œ
				fileMaxSize: 50,		// íŒŒì¼ 1ê°œ ìš©ëŸ‰ ì œí•œ
				totalFileMaxSize: 100,	// ì´ íŒŒì¼ ìš©ëŸ‰ ì œí•œ
			},
        });

        const getTiptapContent = (content) => {
			state.item.detail = content;
		};

        return {
            ...toRefs(state),
            getTiptapContent,
        }
    },
    components: {
        Tiptap
    }
}
</script>
```


ìœ„ì˜ ì½”ë“œ ê²°ê³¼ë¬¼ ì…ë‹ˆë‹¤.

![Tiptap](/post/images/2022-03-24-tiptap-3.png)

í˜„ì¬ ì»¤ì„œì— ìˆëŠ” ê³³ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ë„£ì–´ì£¼ê³  ìˆìŠµë‹ˆë‹¤.

![Tiptap](/post/images/2022-03-24-tiptap-4.png)

ì»¤ì„œë¥¼ ëŒì–´ì„œ ë“œë¡œê·¸ ì•¤ ë“œëìœ¼ë¡œ ì´ë¯¸ì§€ ìœ„ì¹˜ë„ ë³€ê²½í•  ìˆ˜ ìˆêµ¬ìš”. ì´ ì ì€ ë§¤ìš° í¸ë¦¬í•˜ë„¤ìš” :-)

![Tiptap](/post/images/2022-03-24-tiptap-5.png)


<div class="space-item-6"></div>


ì»¤ìŠ¤í…€í•´ì„œ ë²„íŠ¼ì„ ë„£ì„ ìˆ˜ ìˆë‹¤ëŠ” ì ì€ ë§¤ìš° ì¢‹ìŠµë‹ˆë‹¤ë§Œ, ììœ ë„ê°€ ë†’ì€ ë§Œí¼ ì¼ì¼ì´ ì§ì ‘ ë§Œë“¤ì–´ì•¼ í•˜ëŠ”ë‹¤ëŠ” ê²ƒë„ ì´ˆë°˜ì—ëŠ” í˜ë“  ì‘ì—…ê°™ì•„ìš”.

ê·¸ë ‡ì§€ë§Œ ë§Œë“¤ê³  ë‚˜ë‹ˆê¹Œ ê³„ì† ì»¤ìŠ¤í…€í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ë¬´ë¦¬ê°€ ì—†ì„ ê²ƒ ê°™ê³ ,,,,ã…ã…ã…

ê³µì‹ë¬¸ì„œì—ì„œëŠ” ê°€ì´ë“œê°€ ì¤‘êµ¬ë‚œë°©ìœ¼ë¡œ ìˆì–´ì„œ ì°¾ê¸° í˜ë“¤ì–´ ë”°ë¡œ í¬ìŠ¤íŒ…ì„ í•´ë´¤ìŠµë‹ˆë‹¤. ë„ì›€ì´ ë˜ì—ˆê¸¸ ë°”ëë‹ˆë‹¤ :-)